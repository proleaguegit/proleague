<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro League ‚Äî eFootball</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
/* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Roboto',sans-serif;}
body{background:linear-gradient(180deg,#001a3f,#000);color:white;padding-top:60px;}
header{background:#002366;position:fixed;top:0;width:100%;padding:15px;text-align:center;z-index:100;}
header h1{font-size:22px;color:#00cfff;}
.burger{position:absolute;left:15px;top:15px;font-size:26px;cursor:pointer;background:#003a80;padding:8px;border-radius:6px;}
.burger:hover{background:#0051c3;}
.side-menu{position:fixed;top:0;left:-260px;width:240px;height:100%;background:#001f3f;padding:20px;transition:0.4s;z-index:2000;}
.side-menu.active{left:0;}
.side-menu a{display:block;color:#fff;padding:10px 0;text-decoration:none;border-bottom:1px solid #333;}
.side-menu a:hover{color:#00d0ff;}
section{display:none;padding:15px;}
section.active{display:block;animation:fadeIn 0.6s ease;}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
table{width:100%;border-collapse:collapse;background:#012f5d;border-radius:8px;overflow:hidden;margin-top:10px;}
th,td{padding:10px;text-align:center;border:1px solid #004;}
th{background:#004f99;}
button{margin-top:10px;padding:10px 16px;background:#00baff;border:none;border-radius:6px;color:#fff;font-weight:bold;cursor:pointer;transition:0.3s;}
button:hover{background:#0099cc;}
.player-card{background:#013a6b;padding:10px;border-radius:8px;margin:10px auto;text-align:center;}
.player-card img{width:100px;height:100px;border-radius:50%;margin-bottom:8px;}
.player-card h3{margin-bottom:5px;}
footer{text-align:center;padding:15px;background:#000f30;color:#ccc;margin-top:20px;}
</style>
</head>
<body>

<header>
  <div class="burger" id="burgerBtn">‚ò∞</div>
  <h1>Pro League ‚Äî eFootball</h1>
</header>

<div class="side-menu" id="sideMenu">
  <a href="#" data-section="tableSection">üìä –¢–∞–±–ª–∏—Ü–∞</a>
  <a href="#" data-section="scorersSection">üéØ –ë–æ–º–±–∞—Ä–¥–∏—Ä—ã</a>
  <a href="#" data-section="matchesSection">‚öΩ –ú–∞—Ç—á–∏</a>
  <a href="#" data-section="newsSection">üì∞ –ù–æ–≤–æ—Å—Ç–∏</a>
  <a href="#" data-section="bestPlayersSection">üèÜ –õ—É—á—à–∏–µ –∏–≥—Ä–æ–∫–∏</a>
  <a href="#" data-section="aboutSection">‚Ñπ –û –Ω–∞—Å</a>
</div>

<!-- –†–∞–∑–¥–µ–ª—ã -->
<section id="tableSection" class="active">
  <h2>üìä –¢–∞–±–ª–∏—Ü–∞</h2>
  <table>
    <thead><tr><th>–ö–æ–º–∞–Ω–¥–∞</th><th>–ò</th><th>–í</th><th>–ù</th><th>–ü</th><th>–û</th></tr></thead>
    <tbody id="table-body"><tr><td colspan="6">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr></tbody>
  </table>
</section>

<section id="scorersSection">
  <h2>üéØ –ë–æ–º–±–∞—Ä–¥–∏—Ä—ã</h2>
  <div id="scorers">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
</section>

<section id="matchesSection">
  <h2>‚öΩ –ú–∞—Ç—á–∏</h2>
  <div id="matches">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
</section>

<section id="newsSection">
  <h2>üì∞ –ù–æ–≤–æ—Å—Ç–∏</h2>
  <div class="news-card">üî• –ù–æ–≤—ã–π —Ç—É—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç —Å–∫–æ—Ä–æ! –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏.</div>
</section>

<section id="bestPlayersSection">
  <h2>üèÜ –õ—É—á—à–∏–µ –∏–≥—Ä–æ–∫–∏</h2>
  <div>
    <button onclick="openSubSection('week')">–õ—É—á—à–∏–π –∏–≥—Ä–æ–∫ –Ω–µ–¥–µ–ª–∏</button>
    <button onclick="openSubSection('month')">–õ—É—á—à–∏–π –∏–≥—Ä–æ–∫ –º–µ—Å—è—Ü–∞</button>
    <button onclick="openSubSection('season')">–õ—É—á—à–∏–π –∏–≥—Ä–æ–∫ —Å–µ–∑–æ–Ω–∞</button>
  </div>
  <div id="candidatesContainer" style="margin-top:15px;"></div>
</section>

<section id="aboutSection">
  <h2>‚Ñπ –û –Ω–∞—Å</h2>
  <p>–≠—Ç–æ—Ç —Å–∞–π—Ç —Å–æ–∑–¥–∞–Ω –ª–µ–≥–µ–Ω–¥–æ–π @Homidov10 ‚Äî —Ñ–∞–Ω–∞—Ç–æ–º –ë–∞—Ä—Å–µ–ª–æ–Ω—ã –∏ –ú–µ—Å—Å–∏ üíô‚ù§Ô∏è.<br>–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥—ë—Ç–µ —Ç–∞–±–ª–∏—Ü—É, –º–∞—Ç—á–∏, –±–æ–º–±–∞—Ä–¥–∏—Ä–æ–≤ –∏ –ª—É—á—à–∏–µ –º–æ–º–µ–Ω—Ç—ã —Ç—É—Ä–Ω–∏—Ä–∞!</p>
</section>

<footer>¬© 2025 Pro League ‚Äî –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
import { getFirestore, collection, onSnapshot, doc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBpxtwEEGRP1L51p_DdXGLT_laChlHnvqk",
  authDomain: "proleague-1e1cb.firebaseapp.com",
  projectId: "proleague-1e1cb",
  storageBucket: "proleague-1e1cb.appspot.com",
  messagingSenderId: "342867924731",
  appId: "1:342867924731:web:a16d4a0da5d8c5cb25425e",
  measurementId: "G-QH5Z4CBK9S"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ‚úÖ –¢–∞–±–ª–∏—Ü–∞
onSnapshot(collection(db,"standings"),(snapshot)=>{
  let html="";snapshot.forEach(doc=>{
    const t=doc.data();
    html+=`<tr><td>${t.name}</td><td>${t.played}</td><td>${t.wins}</td><td>${t.draws}</td><td>${t.losses}</td><td>${t.points}</td></tr>`;
  });
  document.getElementById("table-body").innerHTML=html||"<tr><td colspan='6'>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td></tr>";
});

// ‚úÖ –ë–æ–º–±–∞—Ä–¥–∏—Ä—ã
onSnapshot(collection(db,"scorers"),(snapshot)=>{
  let html="<ul>";snapshot.forEach(doc=>{
    const p=doc.data();
    html+=`<li><b>${p.name}</b> (${p.team}) ‚Äî ‚öΩ ${p.goals}</li>`;
  });
  html+="</ul>";
  document.getElementById("scorers").innerHTML=html||"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö";
});

// ‚úÖ –ú–∞—Ç—á–∏
onSnapshot(collection(db,"matches"),(snapshot)=>{
  let html="";snapshot.forEach(doc=>{
    const m=doc.data();
    html+=`<div class="match-card"><b>${m.homeTeam}</b> vs <b>${m.awayTeam}</b><br>–î–∞—Ç–∞: ${m.date}<br>–°—á–µ—Ç: ${m.homeScore}-${m.awayScore}</div>`;
  });
  document.getElementById("matches").innerHTML=html||"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö";
});

// ‚úÖ –õ—É—á—à–∏–µ –∏–≥—Ä–æ–∫–∏ ‚Äî –∫–∞–Ω–¥–∏–¥–∞—Ç—ã
let currentCategory="";
async function openSubSection(category){
  currentCategory=category;
  const ref=doc(db,"votes",category);
  const snap=await getDoc(ref);
  if(snap.exists()){
    const data=snap.data();
    let html="";
    data.candidates.forEach((p,index)=>{
      html+=`<div class="player-card">
        <img src="${p.img}" alt="${p.name}">
        <h3>${p.name}</h3>
        <p>–ì–æ–ª–æ—Å–∞: ${p.votes}</p>
        <button onclick="voteCandidate(${index})">–ì–æ–ª–æ—Å–æ–≤–∞—Ç—å</button>
      </div>`;
    });
    document.getElementById("candidatesContainer").innerHTML=html;
  }else{
    document.getElementById("candidatesContainer").innerHTML="<p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>";
  }
}
window.openSubSection=openSubSection;

// ‚úÖ –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
window.voteCandidate=async function(index){
  const key=currentCategory+"_vote";
  const last=localStorage.getItem(key);
  const now=Date.now();
  if(last&&now-last<86400000){
    alert("–í—ã —É–∂–µ –≥–æ–ª–æ—Å–æ–≤–∞–ª–∏ —Å–µ–≥–æ–¥–Ω—è!");
    return;
  }
  const ref=doc(db,"votes",currentCategory);
  const snap=await getDoc(ref);
  if(snap.exists()){
    const data=snap.data();
    data.candidates[index].votes++;
    await updateDoc(ref,data);
    localStorage.setItem(key,now);
    openSubSection(currentCategory);
    alert("–°–ø–∞—Å–∏–±–æ –∑–∞ –≥–æ–ª–æ—Å!");
  }
}

// ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è
const burgerBtn=document.getElementById("burgerBtn");
const sideMenu=document.getElementById("sideMenu");
const sections=document.querySelectorAll("section");
burgerBtn.addEventListener("click",()=>sideMenu.classList.toggle("active"));
sideMenu.querySelectorAll("a").forEach(a=>a.addEventListener("click",e=>{
  e.preventDefault();
  const t=a.getAttribute("data-section");
  sections.forEach(s=>s.classList.toggle("active",s.id===t));
  sideMenu.classList.remove("active");
}));
</script>
</body>
</html>


